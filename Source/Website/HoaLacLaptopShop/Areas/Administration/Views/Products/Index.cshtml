﻿@using HoaLacLaptopShop.Areas.Administration.ViewModels
@model ProductIndexViewModel


<div class="mb-3" style="display:flex; justify-content:space-between">
    <h1 class="h3 d-inline align-middle">
        <a href="@Url.Action("Index","Products")">
            Product list
        </a>
    </h1>
    <a href="@Url.Action("Create","Products")" class="btn btn-success"><i class="fa-solid fa-plus"></i> Add</a>
</div>

<div class="row">
    <div class="card">

        <div class="card-body">
            <table id="datatables-reponsive" class="table table-striped" style="width:100%">
                <thead>
                    <tr>
                        <th>Name</th>
                        <th>Brand</th>
                        <th>Price</th>
                        <th>Quantity</th>
                        <th>Image</th>
                        <th>Is deleted</th>
                        <th>Action</th>
                    </tr>
                </thead>
                <tbody>
                    @foreach (var product in Model.Products)
                    {
                        <tr>
                            <td>@product.Name</td>
                            <td>@product.Brand!.Name</td>
                            <td>@product.Price.ToString("N0")</td>
                            <td>@product.Stock</td>
                            <td>
                                <img src="@product.ProductImages.First().GetProductImageURL()"
                                     alt=""
                                     style="width: 150px; height: 150px; object-fit: contain" />
                            </td>
                            <td>@product.IsDeleted</td>
                            <td>
                                <a asp-action="Update" asp-controller="Products" asp-route-id="@product.ID"><p class="btn btn-warning" style="width:90px"><i class="fa-solid fa-pen"></i> Edit </p></a><br />
                                <a asp-action="DeleteProduct" asp-controller="Products" asp-route-id="@product.ID"><p class="btn btn-danger" style="width:90px"><i class="fa-solid fa-trash"></i> Delete</p></a>
                            </td>
                        </tr>
                    }

                </tbody>
            </table>
        </div>
    </div>
    <nav aria-label="Page navigation example">
        <ul class="pagination">
            @for (int i = 1; i <= (Model.TotalCount - 1) / 10 + 1; i++)
            {
                <li class="page-item @(i == Model.PageIndex ? "active" : "")">
                    <a class="page-link" asp-action="Index" asp-controller="Products" asp-route-page="@i">@i</a>
                </li>
            }
        </ul>
    </nav>
</div>